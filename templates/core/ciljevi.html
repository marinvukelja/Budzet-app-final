{% extends "base.html" %}
{% block content %}
<div class="row g-4">
  <div class="col-lg-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <h2 class="h6">Novi cilj</h2>
        <form method="post">{% csrf_token %}
          {{ form.as_p }}
          <button class="btn btn-primary">Spremi</button>
        </form>
      </div>
    </div>
  </div>
  <div class="col-lg-8">
    <div class="card shadow-sm">
      <div class="card-body">
        <h2 class="h6">Ciljevi</h2>
        <table class="table table-sm align-middle">
          <thead><tr><th>Naziv</th><th>Cilj</th><th>Stanje</th><th>Napredak</th></tr></thead>
          <tbody>
            {% for c in items %}
              <tr>
                <td>{{ c.naziv }}</td>
                <td>{{ c.cilj_iznos|floatformat:2 }}</td>
                <td>{{ c.trenutno_stanje|floatformat:2 }}</td>
                <td>
                  <div class="progress" style="height: 10px; background-color: #e9ecef; border: 1px solid #dee2e6;">
                    <div class="progress-bar" role="progressbar" 
                         style="width: {{ c.progress }}%; background-color: #007bff; border: none; height: 100%;" 
                         aria-valuenow="{{ c.progress }}" 
                         aria-valuemin="0" 
                         aria-valuemax="100">
                    </div>
                  </div>
                  <small class="text-muted">{{ c.progress|floatformat:1 }}%</small>
                </td>
              </tr>
            {% empty %}<tr><td colspan="4">Nema ciljeva.</td></tr>{% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
